<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Monaco Luau Editor</title>
<style>
html,body{height:100%;margin:0;overflow:hidden}
#container{width:100%;height:100%}
</style>
</head>
<body>
<div id="container"></div>
<script src="https://unpkg.com/monaco-editor@latest/min/vs/loader.js"></script>
<script>
require.config({paths:{'vs':'https://unpkg.com/monaco-editor@latest/min/vs'}});
require(['vs/editor/editor.main'],function(){
monaco.languages.register({id:'luau'});
monaco.languages.setLanguageConfiguration('luau',{
autoClosingPairs:[
{open:'(',close:')'},
{open:'[',close:']'},
{open:'{',close:'}'},
{open:'"',close:'"'},
{open:"'",close:"'"}
],
surroundingPairs:[
{open:'(',close:')'},
{open:'[',close:']'},
{open:'{',close:'}'},
{open:'"',close:'"'},
{open:"'",close:"'"}
],
indentationRules:{
increaseIndentPattern:/\b(do|then|function|repeat)\b([^\\n]*)$/,
decreaseIndentPattern:/\b(end|until)\b/
}
});
monaco.languages.setMonarchTokensProvider('luau',{
keywords:[
'and','break','do','else','elseif','end','false','for','function','goto','if','in','local','nil','not','or','repeat','return','then','true','until','while',
'type','export','typeof','instanceof','continue','resume','task','spawn','pcall','xpcall','warn','print','wait','tick','time','workspace','game','script','self','shared','require','enum'
],
operators:['+','-','*','/','%','^','#','==','~=','<=','>=','<','>','=',';'],
tokenizer:{
root:[
{include:'@whitespace'},
[/--\[\[.*\]\]/,'comment'],
[/--.*/,'comment'],
[/\[\[.*\]\]/,'string'],
[/\d+\.\d+([eE][\-+]?\d+)?/,'number'],
[/\d+/,'number'],
[/"([^"\\]|\\.)*$/,'string.invalid'],
[/'([^'\\]|\\.)*$/,'string.invalid'],
[/"/,{token:'string.quote',bracket:'@open',next:'@string_double'}],
[/'/,{token:'string.quote',bracket:'@open',next:'@string_single'}],
[/[a-zA-Z_]\w*/,{cases:{'@keywords':'keyword','@default':'identifier'}}],
[/[{}()\[\]]/,'@brackets'],
[/[;,.]/,'delimiter'],
[/==|~=|<=|>=|<|>|=|\+|-|\*|\/|%|\^|#/,'operator']
],
whitespace:[[ /[ \t\r\n]+/,'' ]],
string_double:[
[/[^\\"]+/,'string'],
[/\\./,'string.escape.invalid'],
[/"/,{token:'string.quote',bracket:'@close',next:'@pop'}]
],
string_single:[
[/[^\\']+/,'string'],
[/\\./,'string.escape.invalid'],
[/'/,{token:'string.quote',bracket:'@close',next:'@pop'}]
]
}
});
monaco.languages.registerCompletionItemProvider('luau',{
provideCompletionItems:function(){
const words=['game','workspace','script','print','warn','wait','spawn','task','Instance','Vector3','CFrame','Enum','require','local','function','end','return','if','then','else','elseif','while','for','do','repeat','until','true','false','nil']
return{suggestions:words.map(w=>({label:w,kind:monaco.languages.CompletionItemKind.Keyword,insertText:w}))}
}
});
const saved=localStorage.getItem('luau_code')||''
const editor=monaco.editor.create(document.getElementById('container'),{
value:saved,
language:'luau',
theme:'vs-dark',
automaticLayout:true,
minimap:{enabled:true},
fontSize:14,
cursorSmoothCaretAnimation:true,
cursorBlinking:'smooth',
autoClosingBrackets:'always',
autoClosingQuotes:'always',
autoSurround:'languageDefined'
})
editor.onDidChangeModelContent(()=>{localStorage.setItem('luau_code',editor.getValue())})
window.getEditorValue=function(){return editor.getValue()}
window.setEditorValue=function(v){editor.setValue(v)}
})
</script>
</body>
</html>
